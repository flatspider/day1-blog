/* Layout */
.app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Header / Navigation */
.header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  padding: var(--space-md);
  background: transparent;
  border-bottom: none;
}

.nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: var(--max-width);
  margin: 0 auto;
}

.nav-logo {
  font-family: var(--font-mono);
  font-size: 1.25rem;
  font-weight: 400;
  color: var(--color-accent);
  transition: text-shadow 0.3s ease;
  text-shadow:
    0 0 10px rgba(184, 212, 232, 0.6),
    0 0 20px rgba(184, 212, 232, 0.3),
    0 1px 3px rgba(0, 0, 0, 0.8);
}

.nav-logo:hover {
  color: var(--color-accent-bright);
  text-shadow:
    0 0 15px rgba(184, 212, 232, 0.8),
    0 0 30px rgba(184, 212, 232, 0.5),
    0 1px 3px rgba(0, 0, 0, 0.8);
}

.nav-links {
  display: flex;
  gap: var(--space-md);
}

.nav-link {
  font-family: var(--font-mono);
  font-size: 1.125rem;
  font-weight: 400;
  color: var(--color-text-muted);
  position: relative;
  transition: color 0.2s ease, text-shadow 0.2s ease;
  text-shadow: 0 1px 4px rgba(0, 0, 0, 0.9);
}

.nav-link::after {
  content: "";
  position: absolute;
  bottom: -4px;
  left: 0;
  width: 0;
  height: 1px;
  background: var(--color-accent);
  transition: width 0.2s ease;
}

.nav-link:hover::after,
.nav-link.active::after {
  width: 100%;
}

.nav-link:hover {
  color: var(--color-accent);
  text-shadow:
    0 0 8px rgba(184, 212, 232, 0.5),
    0 1px 4px rgba(0, 0, 0, 0.9);
}

.nav-link.active {
  color: var(--color-text);
  text-shadow:
    0 0 10px rgba(184, 212, 232, 0.4),
    0 1px 4px rgba(0, 0, 0, 0.9);
}

/* Main content */
.main {
  flex: 1;
  padding-top: var(--space-xl);
}

/* Page container */
.page {
  animation: fadeIn 0.6s ease forwards;
}

/* Section styling */
.section {
  padding: var(--space-xl) var(--space-md);
}

.section-header {
  max-width: var(--max-width);
  margin: 0 auto var(--space-lg);
}

.section-label {
  font-family: var(--font-mono);
  font-size: 0.75rem;
  letter-spacing: 0.1em;
  text-transform: uppercase;
  color: var(--color-accent);
  margin-bottom: var(--space-xs);
}

.section-title {
  font-family: var(--font-display);
  font-size: clamp(1.5rem, 3vw, 2rem);
  font-weight: 600;
}

/* Footer */
.footer {
  padding: var(--space-lg) var(--space-md);
  border-top: 1px solid var(--color-border);
  margin-top: auto;
  background: var(--color-bg);
}

.footer-content {
  max-width: var(--max-width);
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.8125rem;
  color: var(--color-text-dim);
}

.footer-message {
  cursor: pointer;
  transition: color 0.2s ease;
  user-select: none;
}

.footer-message:hover {
  color: var(--color-text-muted);
}

.footer-links {
  display: flex;
  gap: var(--space-md);
}

.footer-link {
  color: var(--color-text-muted);
  position: relative;
  transition: color 0.2s ease;
}

.footer-link:hover {
  color: var(--color-accent);
}

.footer-link::before {
  content: "";
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 1px;
  background: var(--color-accent);
  transition: width 0.2s ease;
}

.footer-link:hover::before {
  width: 100%;
}

/* =========================
   CRT EFFECT — EDIT KNOBS
   ========================= */
:root {
  /* Base - deep navy WOPR */
  --crt-bg: #0a0f1a;

  /* Bulbosity / shape */
  --crt-radius: 32px;

  /* Center "bulge" lift */
  --crt-center-x: 50%;
  --crt-center-y: 45%;
  --crt-center-a0: 0.04; /* center brightest */
  --crt-center-a1: 0.02; /* mid */
  --crt-center-stop0: 0%;
  --crt-center-stop1: 55%;
  --crt-center-stop2: 60%;

  /* Edge vignette (curvature falloff) - darkened for WOPR */
  --crt-vignette-a1: 0.6;
  --crt-vignette-a2: 0.85;
  --crt-vignette-stop0: 40%;
  --crt-vignette-stop1: 78%;
  --crt-vignette-stop2: 100%;

  /* Global glassy contrast */
  --crt-contrast: 1.06;
  --crt-brightness: 1.04;

  /* Inner shadows (more = more bulbous) */
  --crt-shadow-1: 60px;
  --crt-shadow-2: 160px;
  --crt-shadow-3: 260px;
  --crt-shadow-a1: 0.45;
  --crt-shadow-a2: 0.55;
  --crt-shadow-a3: 0.35;

  /* Optional micro-blur (keep tiny) */
  --crt-blur: 0.3px;

  /* Shine / specular highlight */
  --crt-shine-opacity: 0.9;
  --crt-shine-rotate: -8deg;

  /* Highlight placement */
  --crt-shine-x: 30%;
  --crt-shine-y: 18%;

  /* Highlight intensity */
  --crt-shine-a0: 0.18;
  --crt-shine-a1: 0.07;

  /* Diagonal streak intensity */
  --crt-streak-a0: 0.08;
  --crt-streak-a1: 0.02;

  /* Scanlines - enhanced for WOPR look */
  --crt-scan-opacity: 0.06;
  --crt-scan-line: 2px;
  --crt-scan-gap: 4px;
}

/* =========================
   CRT EFFECT — IMPLEMENTATION
   ========================= */
.crt {
  position: relative;
  min-height: 100vh;
  width: 100%;
  overflow: hidden;
  border-radius: var(--crt-radius);

  background:
    /* center lift */
    radial-gradient(
      ellipse at var(--crt-center-x) var(--crt-center-y),
      rgba(255, 255, 255, var(--crt-center-a0)) var(--crt-center-stop0),
      rgba(255, 255, 255, var(--crt-center-a1)) var(--crt-center-stop1),
      rgba(0, 0, 0, 0) var(--crt-center-stop2)
    ),
    /* edge vignette */
    radial-gradient(
        ellipse at center,
        rgba(0, 0, 0, 0) var(--crt-vignette-stop0),
        rgba(0, 0, 0, var(--crt-vignette-a1)) var(--crt-vignette-stop1),
        rgba(0, 0, 0, var(--crt-vignette-a2)) var(--crt-vignette-stop2)
      ),
    var(--crt-bg);

  filter: contrast(var(--crt-contrast)) brightness(var(--crt-brightness));
}

/* Bulge shading / inner falloff */
.crt::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;

  box-shadow:
    inset 0 0 var(--crt-shadow-1) rgba(0, 0, 0, var(--crt-shadow-a1)),
    inset 0 0 var(--crt-shadow-2) rgba(0, 0, 0, var(--crt-shadow-a2)),
    inset 0 0 var(--crt-shadow-3) rgba(0, 0, 0, var(--crt-shadow-a3));

  backdrop-filter: blur(var(--crt-blur));
}

/* Shine / specular highlight */
.crt::before {
  content: "";
  position: absolute;
  inset: -20%;
  pointer-events: none;

  background:
    /* soft “lamp reflection” bloom */
    radial-gradient(
      ellipse at var(--crt-shine-x) var(--crt-shine-y),
      rgba(255, 255, 255, var(--crt-shine-a0)) 0%,
      rgba(255, 255, 255, var(--crt-shine-a1)) 18%,
      rgba(255, 255, 255, 0) 45%
    ),
    /* diagonal streak */
    linear-gradient(
        135deg,
        rgba(255, 255, 255, 0) 0%,
        rgba(255, 255, 255, var(--crt-streak-a0)) 18%,
        rgba(255, 255, 255, var(--crt-streak-a1)) 28%,
        rgba(255, 255, 255, 0) 45%
      );

  transform: rotate(var(--crt-shine-rotate));
  mix-blend-mode: screen;
  opacity: var(--crt-shine-opacity);
}

/* Scanlines - enhanced for WOPR CRT effect */
.crt-scanlines {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(184, 212, 232, var(--crt-scan-opacity)) 0,
    rgba(184, 212, 232, var(--crt-scan-opacity)) var(--crt-scan-line),
    rgba(0, 0, 0, 0) calc(var(--crt-scan-line) + 1px),
    rgba(0, 0, 0, 0) calc(var(--crt-scan-line) + var(--crt-scan-gap))
  );
  mix-blend-mode: overlay;
}

/* Noise/grain texture overlay */
.crt-noise {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.03;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
}

/* Screen OFF state - controlled by power knob */
.crt.screen-off {
  filter: contrast(var(--crt-contrast)) brightness(0.05);
  transition: filter 0.8s ease;
}

.crt.screen-off .app {
  opacity: 0.1;
  transition: opacity 0.8s ease;
}

/* =========================
   CRT MONITOR BEZEL / FRAME
   ========================= */
.crt-bezel {
  --bezel-thickness: 20px;
  --bezel-radius: 40px;
  --bezel-bottom-offset: 110px; /* Height of control panel */

  position: fixed;
  inset: 0;
  bottom: var(--bezel-bottom-offset);
  pointer-events: none;
  z-index: 60;

  /* The bezel frame effect using box-shadow */
  border-radius: var(--bezel-radius);
  box-shadow:
    /* Outer dark edge */
    inset 0 0 0 4px #1a1a1a,
    /* Main bezel body - dark gray plastic */
    inset 0 0 0 var(--bezel-thickness) #2a2a2a,
    /* Inner highlight - top/left light reflection */
    inset 4px 4px 8px rgba(80, 80, 80, 0.4),
    /* Inner shadow - bottom/right depth */
    inset -4px -4px 12px rgba(0, 0, 0, 0.8),
    /* Screen recess shadow */
    inset 0 0 30px rgba(0, 0, 0, 0.5),
    /* Outer shadow for depth */
    0 0 40px rgba(0, 0, 0, 0.8);
}

/* Inner screen edge - gives that recessed glass look */
.crt-bezel::before {
  content: '';
  position: absolute;
  inset: var(--bezel-thickness);
  border-radius: calc(var(--bezel-radius) - 12px);
  box-shadow:
    /* Dark inner edge simulating screen recess */
    inset 0 0 0 3px #0a0a0a,
    inset 0 0 20px rgba(0, 0, 0, 0.6),
    /* Subtle reflection on glass */
    inset 2px 2px 4px rgba(100, 140, 160, 0.1);
  pointer-events: none;
}

/* Subtle texture on bezel */
.crt-bezel::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: var(--bezel-radius);
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,0.01) 0px,
      rgba(255,255,255,0.01) 1px,
      transparent 1px,
      transparent 3px
    );
  pointer-events: none;
}

/* Hide bezel on mobile */
@media (max-width: 768px) {
  .crt-bezel {
    display: none;
  }
}

/* ============================================
   MOBILE RESPONSIVE STYLES
   ============================================ */

@media (max-width: 768px) {
  .header {
    padding: var(--space-sm);
  }

  .nav {
    flex-wrap: wrap;
    gap: var(--space-sm);
  }

  .nav-logo {
    font-size: 0.9rem;
    flex-shrink: 0;
  }

  .nav-links {
    gap: var(--space-sm);
    flex-wrap: wrap;
    justify-content: flex-end;
  }

  .nav-link {
    font-size: 0.75rem;
    padding: 0.25rem 0;
  }

  .main {
    padding-top: var(--space-lg);
  }

  .section {
    padding: var(--space-lg) var(--space-sm);
  }

  .section-header {
    margin-bottom: var(--space-md);
  }

  .footer {
    padding: var(--space-md) var(--space-sm);
  }

  .footer-content {
    flex-direction: column;
    gap: var(--space-sm);
    text-align: center;
  }

  .footer-message {
    font-size: 0.75rem;
    line-height: 1.4;
  }

  .footer-links {
    gap: var(--space-sm);
    flex-wrap: wrap;
    justify-content: center;
  }

  .footer-link {
    font-size: 0.75rem;
  }
}

@media (max-width: 480px) {
  .header {
    padding: var(--space-xs) var(--space-sm);
  }

  .nav {
    justify-content: center;
  }

  .nav-logo {
    width: 100%;
    text-align: center;
    margin-bottom: var(--space-xs);
  }

  .nav-links {
    width: 100%;
    justify-content: center;
    gap: var(--space-sm);
  }

  .nav-link {
    font-size: 0.7rem;
  }
}
