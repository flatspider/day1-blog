/* Nuclear Bunker Control Panel - Fixed at bottom of viewport */
.control-panel {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 50;
  padding: 1.5rem 2rem;
  /* Brushed aluminum base */
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,0.03) 0px,
      rgba(255,255,255,0.03) 1px,
      transparent 1px,
      transparent 2px
    ),
    linear-gradient(180deg, #4a4a4a 0%, #3a3a3a 30%, #2a2a2a 100%);
  border-top: 2px solid #666;
  /* Heavy shadow to ground it */
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,0.15),
    0 -8px 32px rgba(0,0,0,0.6);
}

.panel-inner {
  display: flex;
  justify-content: flex-end;  /* Knobs to far right */
  align-items: center;
  max-width: var(--max-width);
  margin: 0 auto;
  padding-right: 2rem;
}

.knobs-cluster {
  display: flex;
  gap: 2rem;
  align-items: flex-end;
}

/* Individual knob assembly */
.knob-assembly {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.4rem;
}

/* Machined bezel ring */
.knob-bezel {
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background:
    radial-gradient(circle at 30% 30%, #5a5a5a, #2a2a2a 70%);
  padding: 3px;
  box-shadow:
    inset 0 2px 4px rgba(0,0,0,0.5),
    0 2px 4px rgba(0,0,0,0.4);
}

/* The actual knob cap */
.knob {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background:
    radial-gradient(ellipse at 35% 25%, #666 0%, #3a3a3a 40%, #1a1a1a 100%);
  border: none;
  position: relative;
  cursor: pointer;
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  /* Knurled grip texture */
  box-shadow:
    inset 0 -4px 8px rgba(0,0,0,0.5),
    inset 0 4px 8px rgba(255,255,255,0.1),
    0 4px 12px rgba(0,0,0,0.6);
}

/* Draggable knobs - no transition for immediate feedback */
.knob.knob-draggable {
  transition: none;
  cursor: grab;
}

.knob.knob-draggable:active {
  cursor: grabbing;
}

/* Pointer notch carved into knob */
.knob-indicator {
  position: absolute;
  top: 5px;
  left: 50%;
  width: 3px;
  height: 12px;
  background: linear-gradient(180deg, #fff 0%, #ccc 100%);
  transform: translateX(-50%);
  border-radius: 2px;
  box-shadow: inset 0 1px 2px rgba(0,0,0,0.3);
}

/* Embossed label below knob */
.knob-label {
  font-family: var(--font-mono);
  font-size: 0.65rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  color: #888;
  text-shadow: 0 1px 0 rgba(0,0,0,0.8);
}

/* POWER knob rotates to OFF position (90 deg counterclockwise) */
.knob.power-off {
  transform: rotate(-90deg);
}

/* Hover feedback */
.knob:hover {
  box-shadow:
    inset 0 -4px 8px rgba(0,0,0,0.5),
    inset 0 4px 8px rgba(255,255,255,0.15),
    0 4px 16px rgba(0,0,0,0.7);
}

/* Realistic screw heads in corners */
.panel-screw {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  background:
    radial-gradient(circle at 40% 35%, #777, #333);
  position: absolute;
  box-shadow:
    inset 0 1px 2px rgba(0,0,0,0.6),
    0 1px 2px rgba(0,0,0,0.4);
}

/* Phillips head cross pattern */
.panel-screw::before,
.panel-screw::after {
  content: '';
  position: absolute;
  background: #222;
  top: 50%;
  left: 50%;
}
.panel-screw::before {
  width: 5px;
  height: 1px;
  transform: translate(-50%, -50%);
}
.panel-screw::after {
  width: 1px;
  height: 5px;
  transform: translate(-50%, -50%);
}

/* Screw positions */
.screw-tl { top: 10px; left: 10px; }
.screw-tr { top: 10px; right: 10px; }
.screw-bl { bottom: 10px; left: 10px; }
.screw-br { bottom: 10px; right: 10px; }

/* Mobile: Hide control panel */
@media (max-width: 768px) {
  .control-panel {
    display: none;
  }
}
